<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>测试蜡烛图</title>
  <!-- 使用 Chart.js 3.x -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <!-- 日期适配器（适用于 Chart.js 的 time scale） -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.1/dist/chartjs-adapter-luxon.min.js"></script>
  <!-- 正确引入 chartjs-chart-financial v1.2.0 的 build 文件 -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial@0.2.0/build/Chart.Financial.min.js"></script>
</head>
<body>
  <h3>测试 Candlestick 图表</h3>
  <canvas id="myChart"></canvas>
  <script>
    const ctx = document.getElementById('myChart').getContext('2d');

    const data = {
      datasets: [{
        label: 'Candlestick Data',
        data: [
          { x: 1672531200000, o: 100, h: 110, l: 90, c: 105 },
          { x: 1672617600000, o: 105, h: 120, l: 100, c: 115 },
          { x: 1672704000000, o: 115, h: 115, l: 90, c: 95 }
        ],
        color: {
          up: 'rgb(0, 150, 0)',
          down: 'rgb(150, 0, 0)'
        }
      }]
    };

    const config = {
      type: 'candlestick',
      data: data,
      options: {
        responsive: true,
        scales: {
          x: { type: 'time' },
          y: { type: 'linear' }
        }
      }
    };

    new Chart(ctx, config);
  </script>
</body>
</html>
